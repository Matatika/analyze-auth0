version: datasets/v0.2
source: tap-auth0
title: Top 5 User by Logins
questions: Who are most active users?
description: |-
  Top 5 users by logins.

  #auth0
metadata: |-
  {
    "name": "stream_auth0_users",
    "label": "Top 5 Users by Logins", 
    "related_table": {
      "columns": [
        {"name": "id", "label": "User ID", "description": "User ID"}
      ],
      "aggregates": [
        {"name": "logins", "label": "Logins", "description": "Logins"}
      ]
    }
  }
visualisation: |-
  {"chartjs-chart": 
    {"chartType": "bar", 
      "options": {
        "scales": {
          "y": {
            "beginAtZero": true,
            "stepSize": 1
          }
        }
      }
    }
  }
query: |-
  SELECT
    MIN(user_id) "stream_auth0_users.id"
    , COUNT(*) "stream_auth0_users.logins"
  FROM stream_auth0_users
  GROUP BY user_id
  ORDER BY "stream_auth0_users.logins" desc
  LIMIT 5
